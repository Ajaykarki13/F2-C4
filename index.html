<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>F2-C4</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/css/bootstrap.min.css" rel="stylesheet"
        integrity="sha384-GLhlTQ8iRABdZLl6O3oVMWSktQOp6b7In1Zl3/Jr59b6EGGoI1aFkw7cmDA6j6gD" crossorigin="anonymous">
</head>

<body>

    <nav class="navbar bg-black text-white sticky-top">
        <div class="container-fluid">
            <span class="navbar-brand mb-1 h1 text-white">Student Portal</span>
        </div>
    </nav>
    <nav class="navbar  bg-secondary text-white">
        <div class="container-fluid ">
            <form class="d-flex gap-3 ms-1 col-8 " role="search">
                <input class="form-control g-col-6  me-2" type="search" placeholder="Search" aria-label="Search">
                <button class="btn  bg-black text-white" type="submit">Search</button>
            </form>
        </div>
    </nav>
    <div class="container d-flex gap-5 mt-3 bg-light text-white">
        <button class="btn btn1 bg-black text-white">Sort A->Z</button>
        <button class="btn btn2 bg-black text-white">Sort Z->A</button>
        <button class="btn btn3 bg-black text-white">Sort by Marks</button>
        <button class="btn btn4 bg-black text-white">Sort by Passing</button>
        <button class="btn btn5 bg-black text-white">Sort by Class</button>


    </div>

    <table class="table table-bordered border-primary mt-4 mx-1">
        <thead>
            <tr>
                <th>Id</th>
                <th>Name</th>
                <th>Gender</th>
                <th>Class</th>
                <th>Marks</th>
                <th>Passing</th>
                <th>Email</th>
                <th>City</th>
            </tr>
        </thead>
        <tbody class="tbody">

        </tbody>
    </table>
    <script>
                 let btn1 = document.querySelector(".btn1")
                let btn2 = document.querySelector(".btn2")
                let btn3 = document.querySelector(".btn3")
                let btn4 = document.querySelector(".btn4")
                let btn5 = document.querySelector(".btn5")

        //fetching the json file and catching it using then and response is returning file again catching it using (then) again
        fetch("./data.json")

            .then(response => {

                return response.json();
            })

            // response is returning file again catching it using (then) again

            .then(function parent(data) {
            
                let tbody = document.querySelector(".tbody");
                let array = ''
                for (let studentdata of data) {
                    if (studentdata.passing == true) { studentdata.passing = 'pass' }
                    else { studentdata.passing = 'failed' }

                  
     array +=
      `
         <tr>
            <td>${studentdata.id}</td>
            <td> <img src='${studentdata.img_src}'> ${studentdata.first_name} ${studentdata.last_name}</td>
            <td>  ${studentdata.gender}</td>
            <td>${studentdata.class}</td>
            <td>${studentdata.marks}</td>
            <td>${studentdata.passing} </td>
            <td>${studentdata.email}</td>
            <td>${studentdata.city}</td>
         </tr>
      `
                }

                tbody.innerHTML = array;

            });
    

    </script>

    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0-alpha1/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-w76AqPfDkMBDXo30jS1Sgez6pr3x5MlQ1ZAGC+nuZB+EYdgRZgiwxhTBTkF7CXvN"
        crossorigin="anonymous"> </script>
</body>

</html>